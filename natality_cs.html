<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title> Natality Case Study</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a href="index.html" class="title"></a>
				<!-- Line above, I deleted 'Hyperspace' from class='title>Hyperspace</a?'-->
				<nav>
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="natality_cs.html"  class="active">Case Study</a></li>
					</ul>
				</nav>
			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main" class="wrapper">
						<div class="inner">
							<h1 class="major">Natality</h1>

							<!-- Text -->
								<section>
									<h2>Introduction</h2></br>
									<h3>Problem:</h3>
									<p>A government medical agency wanted to gain a better understanding of mother demographic factors that contribute to abnormal birth weight and gestation of newborns.
									</p>
									<h3>Context:</h3>
									<p>I carried out this analysis as a student for a project in CareerFoundry's Data Analytics Program, and I also chose the subject and data set for this project. The purpose of this project was to become more familiar with advanced Python skills commonly used by data analysts. </p>
									<h3>Goal:</h3>
									<p>These insights were intended help the agency provide medical providers additional guidelines on optimizing a woman's chance of delivering a healthy newborn at full term. 
									</p>
									<!-- Lists -->

								<section>
									<div class="row">
										<div class="col-6 col-12-medium">
											<h3>Tools:</h3>
											<ul>
												<li>Python</li>
												<li>Jupyter</li>
												<li>Tableau</li>
											</ul>
										</div>
									</div>
									<div class="row">
										<div class="col-6 col-12-medium">
											<h3>Data:</h3>
											<p>US CDC Natality Data Set 2019-2021 (variables listed below)</p>
											<ul>
												<li>State</li>
												<li>Date (month & year)</li>
												<li>Mother's Education Level</li>
												<li>Month Prenatal Care Began</li>
												<li>Number of Births</li>
												<li>Average Birth Weight</li>
												<li>Average Mother Age</li>
												<li>Average Gestational Age (LMP)</li>
											</ul>
										</div>
									</div>
									<p>To view the data set, click <a href="https://drive.google.com/file/d/10W5-JsbxCqZieok9S3WEDeBqk1lrXZ3R/view?usp=sharing">here</a>.</p>
									<hr />
									<h2>Process</h2></br>
							<!-- Table -->
							<section>
								<h3>Process Steps:</h3>
								<div class="table-wrapper">
									<table>
										<thead>
											<tr>
												<th>Step</th>
												<th>Skills</th>
												<th>Purpose</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>1. Data sourcing, profiling, & cleaning</td>
												<td>Sourced or found data set for the analysis; addressed missing values, duplicate records, records with null values, and mixed data types; changed data types; removed records with too many missing values; data profiling & consistency checks. </td>
												<td>Found and prepared data for analysis and reduced potential for error.</td>
											</tr>																			
											<tr>
												<td>2. Deriving new columns</td>
												<td>Created new columns in data set based that were based on values in other columns.</td>
												<td>Created important categories for future analysis and visualizations such as date, season, region, birth weight categories, gestation categories, and mother's age category.</td>
											</tr>											
											<tr>
												<td>3. Exploring data</td>
												<td>Created a variety of charts such as scatterplots, bar charts, heatmaps, and pairwise comparisons to explore factors affecting birth weight and gestation.</td>
												<td>Provided guidance on where to conduct more in-depth analysis.</td>
											</tr>
											<tr>
												<td>4. Forming a hypothesis</td>
												<td>After data exploration, formed a statement based on initial evidence that can be proven or disproven.</td>
												<td>Gave direction to the analysis.</td>
											</tr>
											<tr>
												<td>5. Creating geographical visualizations</td>
												<td>Worked with JSON file; checked for extreme values; created dataframes of weighted averages by state; plotted choropleth maps of mother age, birth weight, and gestation.</td>
												<td>Enabled viewing of regional differences and relationships between mother age, birth weight, and gestation.</td>
											</tr>
											<tr>
												<td>6. Conducting linear regression analysis (supervised machine learning)</td>
												<td>Reshaped x and y variables into NumPy arrays, split data into training and test sets, ran the linear regression, interpreted of how regression line fits data, checked performance statistics, compared predicted vs actual y values.</td>
												<td>Determined if linear regression was appropriate model to make predictions regarding this data set.</td>
											</tr>
											<tr>
												<td>7. Running a k-means clustering algorithm (unsupervised machine learning)</td>
												<td>Standardized the data set, used elbow technique to determine number of clusters, run k-means, created visualizations.</td>
												<td>Found patterns in data and associations/groupings that would not otherwise have been found.</td>
											</tr>
											<tr>
												<td>8. Conducting time series analysis</td>
												<td>Subsetting data to view variable of interest and time, plot basic line graph, decomposed data components, conducted Dickey-Fuller test for stationarity, viewed autocorrelation, differencing on non-stationary data sets.</td>
												<td>Understand preparation for running a time series analysis.</td>
											</tr>											
										</tbody>
									</table>
								</div>
							</section>
									<h3>Data Exploration:</h3>
									<p>There were many charts created when exploring the data in process step 3. This heatmap is valuable because it shows the strength of the correlation between all variable pairs. Besides the relationship between gestation and birth weight being the strongest, which is what was expected, mother age and birth weight was the next strongest relationship. The closer the number in each square is to 1.00 or -1.00, the stronger the relationship. A number of 0.00, or close to it, would represent no relationship.</p>
									<div style="text-align: center;">
										<div class="row gtr-uniform">
											<div class="col-12"><span class="centerImage"><img src="images/heatmap_gen.png" width=350 text-align="center" alt="" /></span><figcaption>This heatmap shows correlation between multiple variable pairs.</figcaption></div>
										</div>
									</div></br>
									<blockquote><h4>Expectations of Exploration:</h4>
										<p>My expectation was that education and prenatal care start month would play a greater role in affecting birth weight and gestation times, but to my surprise mother age played a greater role in these two variables.</p></blockquote>
										<section>
										
										<p>These visuals demonstrate a closer look at the correlation between mother age and birth weight and gestation.</p></blockquote>
											<div class="box alt">
												<div class="row gtr-uniform">
													<div class="col-4"><span class="image fit"><img src="images/corr_age_wt_bwcat.png" alt="" /></span><figcaption>There were some lower birth weights among women in their 20s to early 30s. Heavier births were skewed toward women 32 years of age and older.</figcaption></div>
													<div class="col-4"><span class="image fit"><img src="images/corr_age_gest_gestcat.png" alt="" /></span><figcaption>The relationship between mother age and gestation was similar to the one between mother and and birth weight, but it was not as apparent as mother age and birth weight.</figcaption></div>
													<div class="col-4"><span class="image fit"><img src="images/births_age_bar.png" alt="" /></span><figcaption>Women in their 30s did not give birth to the most infants; women in their 20s did. Seeing that women in the 32+ years age group are not the most populous group to give birth, their population alone does not account for the greater above average birth weights.</figcaption></div>
												</div>
											</div>
										</section>
										<h3>Geographical Visualizations:</h3>
										<p>The map below has shades of teal that represent mother age; the darker the shade of teal, the older the average mother age of that state. The size of the red dots represent the weighted birth weight averages of the state; the larger the dot, the heavier the average birth weight.</p>								
										<div style="text-align: center;">
											<div class="row gtr-uniform">
												<div class="col-12"><span class="centerImage"><img src="images/geo_map.jpg" width=500 text-align="center" alt="" /></span><figcaption>States on the east and west coasts along with a few northern states have older average mother ages and heavier birth weights.</figcaption></div>
											</div>
										</div></br>
										<blockquote><h4>Challenges:</h4>
										<p>Everything from values and variables to dataframes and more in Python have something called an object type. In order for the map to accept the weighted averages calculated in process step 5 and display them geographically, the resulting data set needed to be a dataframe and not a groupby object. To get around this, I had to export the weighted average results, manipulate them in Excel, then import these results back into Python as a dataframe. There was no other shortcut of transforming the weighted average results from an object to a dataframe.</p></blockquote>											
										<h3>Forming Hypotheses:</h3>
										<p>Once I conducted initial exploratory data analysis and found notable patterns, it was time to dig deeper. I formed the following hypotheses after EDA in previous steps. These statements guided the remainder of my analysis. </p>								
										<blockquote>
											<p>If a woman who is older than 35 gives birth, then she is more likely to give birth to a newborn of above average birth weight.
											</br></br>If a woman is younger, such as in her 20s or up to her early 30s, then she is more likely to give birth to a newborn of below average birth weight.
											</p></blockquote>										
										</section>
										<h3>Linear Regression (Supervised Machine Learning):</h3>
										<p>I conducted a linear regression analysis using a linear regression model from the Scikit-Learn library. Linear regression is a relationship 
											between two variables that can be described and predicted by an equation that produces a relatively straight upward or downward sloping line. 
											This means as one variable increases in value, the other value increases or decreases within a predictable range of values.</br></br>
										Finally, I evaluted the fit of the data to the model to see if a linear regression model could accurately predict a 
										newborn's birth weight based on a mother's age. The results indicated that although there was a weak linear relationship between mother's age and birth weight,
										the relationship could not be used to make predictions using linear regression analysis.</br></br> The r2 score on the top indicates how well 
										the linear regression model is able to predict values in the data. The closer to the r2 value is to 1.00, the better the model is at making predictions about the data set. 
										This value is different than the Pearson's correlation coefficient of 0.31 found in the heatmap above (or by taking the square root of r2). While the Pearson's correlation 
										coefficient of 0.31 indicates a weak to moderate linear relationship, the small r2 value of 0.09 indicates that linear regression cannot be used to accurately make predictions in this data set.</p>				
									<section>
										<div style="text-align: center;">
											<div class="row gtr-uniform">
												<div class="col-12"><span class="centerImage"><img src="images/linear_reg_r2.jpg" width=500 text-align="center" alt="" /></span><figcaption>The r2 score is shown here.</figcaption></div>
												<div class="col-12"><span class="centerImage"><img src="images/linear_reg_actual_predict.jpg" width=500 text-align="center" alt="" /></span><figcaption>Showing actual y values (birth weights) vs predicted y values. Values are not close enough.</figcaption></div>
											</div>
										</div></br></br>
										<h3>K-Means Cluster Analysis (Unsupervised Machine Learning):</h3>
										<p>Linear Regression was not sufficient to prove my hypothesis or implement a satisfactory prediction model. As a result, I conducted a cluster analysis 
										to identify insights I might not have otherwise known to look for. </br></br>
										I discovered three primary clusters. I can compare data in these clusters to reveal new patterns. The three clusters are represented by three colors: green, orange, and blue.</br></br>
										<section>
											<div style="text-align: center;">
												<div class="row gtr-uniform">
													<div class="col-12"><span class="centerImage"><img src="images/mom_age_wt_cluster.png" width=500 text-align="center" alt="" /></span><figcaption>You can mother's age/birth weight clusters in this visualization.</figcaption></div>
												</div>
										</div>
										</section></br></br>								
										<h4>Results:</h4>
										Results indicated there were three main groups of women who gave birth. </p>

										<div class="row">
											<div class="col-6 col-12-medium">
												<ul>
													<li>Green - Women who gave birth to infants of above average birth weights, had somewhat longer gestation times, were over 30 years of age, and had a master's degree on average.</li>
													<li>Orange - Women who gave birth to infants of lower than average birth weights, had average gestation times, were in their 20s, and had a high school education.</li>
													<li>Blue - Women who gave birth to infants of average birth weight and gestation times, were in their 20s, and had a high school education. </li>
												</ul>
											</div>
										</div>														
									<hr />
									<h2>Recommendations</h2></br>
									<h3>Next steps:</h3>
							
									<div class="row">
										<div class="col-6 col-12-medium">
											<ul>
												<li>Combine additional medical and lifestyle data with current data to better understand the complexity of the relationship between mother age and birth weight.</li>												
												<li>Allocate additional medical resources and education to regions that have a disproportionate amount of women giving birth in age brackets more at risk for unusually low or high birth weights.</li>
												<li>Run a classification algorithm to help predict the risk group to which women belong, such as random tree, random forest, and K-nearest neighbor.</li>
												<li>Because data was discovered to be seasonal, run a time series model, such as SARIMAX, on the data to predict seasonal variations in birth rates and birth weights. </li>
											</ul>
										</div>
									</div>
								<blockquote><h4>Retrospective:</h4>
									<p>If I were to redo this analysis, more effort would be made to combine health data with the current data to gain a better understanding of what underlying health conditions 
										may lead to abormal birth weights and gestation times, pre-term delivery, miscarriages, etc. The CDC database had an option to obtain health data, 
										but it was limited to just a few conditions. Much of this information could not be added to the current data set at the time of download, so it would likley
										need to be merged with the current data set. However, much of the medical knowledge gained in this analysis is already known within the medical community, and further analysis would only serve to demonstrate greater analytical skill.</blockquote>
									<h3>For More:</h3>
									<p>To view the project files or see the Tableau presentation, click the links below.</p>
									<ul class="actions">
										<li><a href="https://github.com/KeelyTeh/CareerFoundryProgram/tree/CDC_Natality_Analysis" class="button">View Project Files</a></li>
									</ul>
									<ul class="actions">
										<li><a href="https://public.tableau.com/app/profile/keely7601/viz/AdvancedAnalytics6_7/Story1?publish=yes" class="button">View Tableau Presentation</a></li>
									</ul>																				
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
